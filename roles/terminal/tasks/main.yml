---
- name: terminal configuration | create vim backup dir
  file:
    path: "{{ homedir }}/.vim/tmp"
    state: directory
    mode: 0755

- name: terminal configuration | create vim plugin dir
  file:
    path: "{{ homedir }}/.vim/plugged"
    state: directory
    mode: 0755
  notify: install plugged

- name: terminal configuration | copy kfiles
  copy:
    src: "{{ item }}"
    dest: "{{ homedir }}/.config/"
    owner: "{{ user }}"
    group: "{{ user }}"
    mode: 0644
  with_fileglob:
    - jebel/*

- name: terminal configuraiton | git setup
  git_config:
    name: user.email
    value: 'zachvatwork@gmail.com'
    scope: global
  git_config:
    name: user.name
    value: 'affablezonkey'
    scope: global

- name: terminal configuration | clone dotfile repo
  git:
    repo: 'https://github.com/AffableZonkey/snooty_doots.git'
    dest: "{{ homedir }}/Code/snooty_doots"
    accept_hostkey: yes

- name: linkup doots
  file:
    src: "{{ homedir }}/Code/snooty_doots/{{ item }}"   
    dest: "{{ homedir}}/.{{ item }}"
    owner: "{{ user }}"
    group: "{{ user }}"
    state: link
  with_fileglob: "*"
